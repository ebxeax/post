# 虚拟存储器·页式·段式·段页式
主存和辅存共同构成了虚拟存储器，在硬件和系统软件的共同管理下工作。对于程序员而言，虚拟存储器是透明的，将主存和辅存的地址空间统一编址  
用户编程允许涉及的地址称为虚地址或逻辑地址，虚拟地址对应的是存储空间称为虚拟空间  
实际的主存单元地址称为实地址或物理地址，实地址对应的存储空间称为主存地址空间或实地址空间
- 实地址 = 主存页号 + 页内字地址
- 虚地址 = 虚存页号 + 页内字地址
- 辅存地址 = 磁盘号 + 盘面号 + 磁道号 + 扇区号

CPU使用虚地址访存，由辅助硬件找出虚地址和实地址之间的对应关系，并判断这个虚地址对应的存储单元是否已装入内存
- 在内存，通过地址变换，CPU可直接访问主存指示的数据单元
- 不在内存，则把包含这个 字的一页或一段调入主存后，在通过虚实地址变换访问

## 页式虚拟存储器
以页为基本单位，虚拟空间与主存空间划分为同样大小的页，主存的页称为**实页**、**页框**，虚存的页称为**虚页**  
### 页表
页表是一张存储在主存中的虚页号和实页号对照表，记录程序的虚页调入主存时被安排在主存中的位置，页表一般长期存在于主存内

|1|2|3|4|
|-|-|-|-|
|有效位|脏位|引用位|物理页|

### 快表(TLB)

### 具有TLB和Cache的多级存储系统

## 段式虚拟存储器

## 段页式虚拟存储器

## 虚拟存储器与Cache的比较